# Login screen 
MDScreen:
    name: 'signup screen'
    spacing: 20

    MDScrollView:
        MDBoxLayout:
            orientation: 'vertical'
            adaptive_height: True
            padding: 0, 30
            spacing: 30
            MDRectangleFlatButton:
                text: 'Go back to Home'
                ripple_scale: .8
                line_color: 'white'
                text_color: 'white'
                pos_hint: {'x': .15}
                on_release: app.homescreenchanger('home screen') 
            Box3d: 
                orientation: 'vertical'
                pos_hint: {'center_x':.5}
                adaptive_height: True
                size_hint_x: .6
                padding: 20
                spacing: 40
                MDLabel:
                    id: signup_head
                    text: 'SIGN UP'
                    adaptive_height: True
                    halign: 'center'
                
                # name
                MDTextField:
                    id: signup_fname
                    icon_left: 'alphabetical-variant'
                    hint_text: 'Enter your first name'
                    helper_text_mode: 'on_error'
                    mode: 'rectangle'
                    line_color_normal: 'lightblue'
                    line_color_focus: 'blue'
                    pos_hint: {'x': .2}
                    adaptive_height: True
                    size_hint_x: .6
                    padding: 10, 0
                    text_color_focus: 'black'
                    on_text: 
                        app.strvalidator('signup', 'fname', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])

                MDTextField:
                    id: signup_lname
                    icon_left: 'alphabetical-variant'
                    hint_text: 'Enter your last name'
                    helper_text_mode: 'on_error'
                    mode: 'rectangle'
                    line_color_normal: 'lightblue'
                    line_color_focus: 'blue'
                    pos_hint: {'x': .2}
                    adaptive_height: True
                    size_hint_x: .6
                    padding: 10, 0
                    text_color_focus: 'black'
                    on_text: 
                        app.strvalidator('signup', 'lname', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])

                # username
                MDTextField:
                    id: signup_username
                    icon_left: 'account'
                    hint_text: 'Enter your username'
                    helper_text_mode: 'on_error'
                    mode: 'rectangle'
                    line_color_normal: 'lightblue'
                    line_color_focus: 'blue'
                    pos_hint: {'x': .2}
                    adaptive_height: True
                    size_hint_x: .6
                    padding: 10, 0
                    text_color_focus: 'black'
                    on_text: 
                        app.strvalidator('signup', 'username', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])

                # Email
                MDTextField:
                    id: signup_email
                    email: True
                    icon_left: 'email'
                    hint_text: 'Enter your email'
                    helper_text_mode: 'on_error'
                    mode: 'rectangle'
                    line_color_normal: 'lightblue'
                    line_color_focus: 'blue'
                    pos_hint: {'x': .2}
                    adaptive_height: True
                    size_hint_x: .6
                    padding: 10, 0
                    text_color_focus: 'black'
                    on_text: app.strvalidator('signup', 'email', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])

                # Phone number
                MDTextField:
                    id: signup_number
                    icon_left: 'phone'
                    hint_text: 'Enter your number'
                    helper_text_mode: 'on_error'
                    mode: 'rectangle'
                    line_color_normal: 'lightblue'
                    line_color_focus: 'blue'
                    pos_hint: {'x': .2}
                    adaptive_height: True
                    size_hint_x: .6
                    padding: 10, 0
                    text_color_focus: 'black'
                    on_text: app.strvalidator('signup', 'phone', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])
                
                # password
                MDBoxLayout:
                    adaptive_height: True
                    pos_hint: {'x': .2}
                    size_hint_x: .72
                    height: signup_password.height
                    orientation: 'horizontal'
                    spacing: 10
                    MDTextField:
                        id: signup_password
                        icon_left: 'key'
                        hint_text: 'Enter your password'
                        password: True
                        helper_text_mode: 'on_error'
                        helper_text: 'Required'
                        mode: 'rectangle'
                        line_color_normal: 'lightblue'
                        line_color_focus: 'blue'
                        pos_hint: {'center_y': 0.5}
                        adaptive_height: True
                        size_hint_x: .7
                        padding: 10, 0
                        text_color_focus: 'black'
                        on_text: 
                            app.strvalidator('signup', 'password', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])
                            passwordicon1.icon = 'eye-off'
                            self.password = True
                    MDIconButton:
                        id: passwordicon1
                        icon: "eye-off"
                        pos_hint: {"center_y": .5}
                        adaptive_size: True
                        on_release:
                            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                            signup_password.password = False if signup_password.password == True else True
                            signup_password.focus = True
                
                # confirm password
                MDBoxLayout:
                    adaptive_height: True
                    pos_hint: {'x': .2}
                    size_hint_x: .72
                    height: confirm_signup_password.height
                    orientation: 'horizontal'
                    spacing: 10
                    MDTextField:
                        id: confirm_signup_password
                        icon_left: 'key'
                        hint_text: 'Confirm your password'
                        password: True
                        helper_text_mode: 'on_error'
                        helper_text: 'Required'
                        mode: 'rectangle'
                        line_color_normal: 'lightblue'
                        line_color_focus: 'blue'
                        pos_hint: {'center_y': 0.5}
                        adaptive_height: True
                        size_hint_x: .7
                        padding: 10, 0
                        text_color_focus: 'black'
                        on_text: 
                            app.strvalidator('signup', 'password', [self, signup_button, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])
                            passwordicon2.icon = 'eye-off'
                            self.password = True
                    MDIconButton:
                        id: passwordicon2
                        icon: "eye-off"
                        pos_hint: {"center_y": .5}
                        adaptive_size: True
                        on_release:
                            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                            confirm_signup_password.password = False if confirm_signup_password.password == True else True
                            confirm_signup_password.focus = True

                # Signup button
                MDFillRoundFlatButton:
                    id: signup_button
                    text: 'Signup'
                    disabled: True
                    theme_text_color: "Custom"
                    md_bg_color: 'blue'
                    text_color: 'white'
                    ripple_scale: .8
                    pos_hint: {'center_x': 0.5}
                    adaptive_height: True
                    elevation: 3
                    shadow_pos: 10
                    line_color: 'lightblue'
                    line_width: 1.5
                    shadow_color: 'lightgrey'
                    on_release: app.validate('signup', [self, signup_username, signup_password, confirm_signup_password, signup_email, signup_number, signup_fname, signup_lname])
                
                MDTextButton:
                    text: "Already have a account? Login"
                    theme_text_color: "Custom"
                    text_color: 'blue'
                    # md_bg_color: 'white'
                    ripple_scale: .8
                    pos_hint: {'center_x': 0.5}
                    on_release: app.homescreenchanger('login screen')
